{"remainingRequest":"/Users/txf/Desktop/VulnFind/vulnfind-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/txf/Desktop/VulnFind/vulnfind-vue/src/components/user/Users.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/txf/Desktop/VulnFind/vulnfind-vue/src/components/user/Users.vue","mtime":1614180919784},{"path":"/Users/txf/Desktop/VulnFind/vulnfind-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/txf/Desktop/VulnFind/vulnfind-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/txf/Desktop/VulnFind/vulnfind-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/txf/Desktop/VulnFind/vulnfind-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGZpbmRVc2VyTGlzdCB9IGZyb20gJy4uLy4uL2FwaS91c2VycycKaW1wb3J0IHsgZmluZERlcHRBbmRDb3VudCB9IGZyb20gJy4uLy4uL2FwaS9kZXB0JwoKaW1wb3J0IFVzZXJBZGQgZnJvbSAnLi9Vc2VyQWRkJwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdVc2VycycsCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyVm86IHsKICAgICAgICBkZXBhcnRtZW50SWQ6ICcnLAogICAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgICBlbWFpbDogJycsCiAgICAgICAgc2V4OiAnJywKICAgICAgICBuaWNrbmFtZTogJycKICAgICAgfSwKICAgICAgLy8g5o6n5Yi25paw5aKe57yW6L6R5by556qX55qE5pi+56S65LiO6ZqQ6JePCiAgICAgIGFkZE9yVXBkYXRlVmlzaWJsZTogZmFsc2UsCiAgICAgIC8vIOeUqOaIt+mbhuWQiAogICAgICB1c2VyTGlzdDogW10sCiAgICAgIC8vIOmDqOmXqOmbhuWQiAogICAgICBkZXB0TGlzdDogW10sCiAgICAgIC8vIOavj+mhteaYvuekuueahOadoeaVsAogICAgICBzaXplOiA2LAogICAgICAvLyDmgLvmnaHmlbAKICAgICAgdG90YWw6IDEwMCwKICAgICAgLy8g5b2T5YmN6aG156CBCiAgICAgIGN1cnJlbnQ6IDEsCiAgICAgIGRlcGFydG1lbnRzOiBbXQogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgVXNlckFkZAogIH0sCiAgY3JlYXRlZCAoKSB7CiAgICAvLyDliJvlu7rnu4Tku7bnmoTml7blgJnosIPnlKjmn6Xor6LmiYDmnInnlKjmiLfnmoTmlrnms5UKICAgIHRoaXMuZ2V0VXNlckxpc3QoKQogICAgdGhpcy5nZXREZXB0QW5kQ291bnQoKQogIH0sCiAgbWV0aG9kczogewogICAgb25TdWJtaXQgKCkgewogICAgICBjb25zb2xlLmxvZygnc3VibWl0IScpCiAgICB9LAogICAgLy8g5b2T5q+P6aG15p2h5pWw5pS55Y+Y55qE5pe25YCZCiAgICBoYW5kbGVTaXplQ2hhbmdlICh2YWwpIHsKICAgICAgLy8g5bCGdmFs6LWL5YC857uZc2l6ZQogICAgICB0aGlzLnNpemUgPSB2YWwKICAgICAgLy8g6YeN5paw5Y675ZCO5Y+w5p+l6K+i5pWw5o2uCiAgICAgIHRoaXMuZ2V0VXNlckxpc3QoKQogICAgfSwKICAgIC8vIOW9k+WJjemhteeggeaUueWPmOeahOaXtuWAmQogICAgaGFuZGxlQ3VycmVudENoYW5nZSAodmFsKSB7CiAgICAgIHRoaXMuY3VycmVudCA9IHZhbAogICAgICB0aGlzLmdldFVzZXJMaXN0KCkKICAgIH0sCiAgICBhc3luYyBnZXRVc2VyTGlzdCAoKSB7CiAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgZmluZFVzZXJMaXN0KHRoaXMuY3VycmVudCwgdGhpcy5zaXplLCB0aGlzLnVzZXJWbykKICAgICAgdGhpcy51c2VyTGlzdCA9IGRhdGEuZGF0YS5yZWNvcmRzCiAgICAgIHRoaXMudG90YWwgPSBkYXRhLmRhdGEudG90YWwKICAgIH0sCiAgICBhc3luYyBnZXREZXB0QW5kQ291bnQgKCkgewogICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IGZpbmREZXB0QW5kQ291bnQoKQogICAgICB0aGlzLmRlcGFydG1lbnRzID0gZGF0YS5kYXRhLmRlcGFydG1lbnRzCiAgICB9LAogICAgLy8g6YeN572u6KGo5Y2VCiAgICByZXNldFVzZXJWbyAoKSB7CiAgICAgIHRoaXMudXNlclZvLnVzZXJuYW1lID0gJycKICAgICAgdGhpcy51c2VyVm8uZGVwYXJ0bWVudElkID0gJycKICAgICAgdGhpcy51c2VyVm8uZW1haWwgPSAnJwogICAgICB0aGlzLnVzZXJWby5uaWNrbmFtZSA9ICcnCiAgICAgIHRoaXMudXNlclZvLnNleCA9ICcnCiAgICAgIHRoaXMuZ2V0VXNlckxpc3QoKQogICAgfSwKICAgIC8vIOaMiemSrueCueWHu+S6i+S7tiDmmL7npLrmlrDlop7nvJbovpHlvLnnqpfnu4Tku7YKICAgIHNob3cgKCkgewogICAgICB0aGlzLmFkZE9yVXBkYXRlVmlzaWJsZSA9IHRydWUKICAgIH0sCiAgICAvLyDnm5HlkKwg5a2Q57uE5Lu25by556qX5YWz6Zet5ZCO6Kem5Y+R77yM5pyJ5a2Q57uE5Lu26LCD55SoCiAgICBzaG93QWRkT3JVcGRhdGUgKGRhdGEpIHsKICAgICAgaWYgKGRhdGEgPT09ICdmYWxzZScpIHsKICAgICAgICB0aGlzLmFkZE9yVXBkYXRlVmlzaWJsZSA9IGZhbHNlCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5hZGRPclVwZGF0ZVZpc2libGUgPSB0cnVlCiAgICAgIH0KICAgIH0KICB9Cn0K"},{"version":3,"sources":["Users.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqIA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Users.vue","sourceRoot":"src/components/user","sourcesContent":["<template>\n  <div>\n    <!--面包屑-->\n    <el-breadcrumb separator=\"/\" style=\"padding-left: 10px;padding-bottom: 10px;font-size: 12px\">\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\n      <el-breadcrumb-item>系统管理</el-breadcrumb-item>\n      <el-breadcrumb-item>用户管理</el-breadcrumb-item>\n    </el-breadcrumb>\n    <!--用户列表卡片-->\n    <el-card class=\"box-card\">\n      <el-form :inline=\"true\" :model=\"userVo\" class=\"demo-form-inline\">\n        <el-form-item label=\"部门\" label-width=\"70px\">\n          <el-select clearable v-model=\"userVo.departmentId\" placeholder=\"请选择\">\n            <el-option\n                v-for=\"item in departments\"\n                :key=\"item.id\"\n                :label=\"item.name\"\n                :value=\"item.id\">\n              <span style=\"float: left\">{{ item.name }}</span>\n              <span style=\"float: right; color: #8492a6; font-size: 13px\">\n              <span class=\"el-tag el-tag--success el-tag--mini el-tag--plain\">{{ item.deptCount }}</span>\n            </span>\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"用户名\" label-width=\"70px\">\n          <el-input clearable v-model=\"userVo.username\" placeholder=\"请输入用户名\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"邮箱\" label-width=\"70px\">\n          <el-input clearable v-model=\"userVo.email\" placeholder=\"请输入邮箱\"></el-input>\n        </el-form-item>\n        <el-form-item label-width=\"70px\" style=\"margin-left: 25px\">\n          <el-radio v-model=\"userVo.sex\" label=\"0\">帅哥</el-radio>\n          <el-radio v-model=\"userVo.sex\" label=\"1\">美女</el-radio>\n          <el-radio v-model=\"userVo.sex\" label=\"\">全部</el-radio>\n        </el-form-item>\n        <el-form-item label=\"昵称\" label-width=\"70px\">\n          <el-input clearable v-model=\"userVo.nickname\" placeholder=\"请输入昵称\"></el-input>\n        </el-form-item>\n        <el-form-item style=\"margin-left: 10px\">\n          <el-button icon=\"el-icon-refresh\" @click=\"resetUserVo\">重置</el-button>\n          <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"getUserList\">查询</el-button>\n          <el-button type=\"success\" icon=\"el-icon-plus\" @click=\"show\">添加</el-button>\n          <el-button type=\"warning\" icon=\"el-icon-download\">导出</el-button>\n        </el-form-item>\n      </el-form>\n      <!--表格内容显示区域-->\n      <el-table\n          :data=\"userList\"\n          border\n          max-height=\"400\"\n          style=\"width: 100%;\">\n        <el-table-column\n            prop=\"id\"\n            label=\"#\"\n            width=\"50\">\n        </el-table-column>\n        <el-table-column\n            prop=\"username\"\n            label=\"用户名\"\n            width=\"110\">\n        </el-table-column>\n        <el-table-column\n            prop=\"sex\"\n            label=\"性别\"\n            width=\"60\">\n          <template slot-scope=\"scope\">\n            <span class=\"el-tag el-tag--success el-tag--mini el-tag--light\">{{scope.row.sex==0?'帅哥':(scope.row.sex==1?'美女':'保密')}}</span>\n          </template>\n        </el-table-column>\n        <el-table-column\n            prop=\"name\"\n            sortable\n            label=\"所属部门\"\n            width=\"180\">\n        </el-table-column>\n        <el-table-column\n            sortable\n            prop=\"birth\"\n            label=\"生日\"\n            width=\"180\">\n          <template slot-scope=\"scope\">\n            {{scope.row.birth}}\n          </template>\n        </el-table-column>\n        <el-table-column\n            sortable\n            prop=\"email\"\n            label=\"邮箱\"\n            width=\"180\">\n        </el-table-column>\n        <el-table-column\n            prop=\"phoneNumber\"\n            label=\"电话\"\n            width=\"150\">\n        </el-table-column>\n        <el-table-column\n            prop=\"status\"\n            label=\"是否禁用\"\n            width=\"100\">\n          <template slot-scope=\"scope\">\n            <el-switch\n                v-model=\"scope.row.status==1\"\n                active-color=\"#13ce66\"\n                inactive-color=\"#ff4949\">\n            </el-switch>\n          </template>\n        </el-table-column>\n        <el-table-column\n            label=\"操作\">\n          <el-button type=\"primary\" size=\"mini\" icon=\"el-icon-edit\"></el-button>\n          <el-button type=\"danger\" size=\"mini\" icon=\"el-icon-delete\"></el-button>\n          <el-button type=\"warning\" size=\"mini\" icon=\"el-icon-s-tools\"></el-button>\n        </el-table-column>\n      </el-table>\n      <el-pagination\n          style=\"padding-top: 15px\"\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n          :current-page=\"current\"\n          :page-sizes=\"[6, 10, 20, 30]\"\n          :page-size=\"size\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"total\">\n      </el-pagination>\n\n      <UserAdd :addOrUpdateVisible=\"addOrUpdateVisible\" :departments=\"departments\" @changeShow=\"showAddOrUpdate\" ref=\"addOrUpdateRef\"></UserAdd>\n    </el-card>\n  </div>\n\n</template>\n\n<script>\nimport { findUserList } from '../../api/users'\nimport { findDeptAndCount } from '../../api/dept'\n\nimport UserAdd from './UserAdd'\n\nexport default {\n  name: 'Users',\n  data () {\n    return {\n      userVo: {\n        departmentId: '',\n        username: '',\n        email: '',\n        sex: '',\n        nickname: ''\n      },\n      // 控制新增编辑弹窗的显示与隐藏\n      addOrUpdateVisible: false,\n      // 用户集合\n      userList: [],\n      // 部门集合\n      deptList: [],\n      // 每页显示的条数\n      size: 6,\n      // 总条数\n      total: 100,\n      // 当前页码\n      current: 1,\n      departments: []\n    }\n  },\n  components: {\n    UserAdd\n  },\n  created () {\n    // 创建组件的时候调用查询所有用户的方法\n    this.getUserList()\n    this.getDeptAndCount()\n  },\n  methods: {\n    onSubmit () {\n      console.log('submit!')\n    },\n    // 当每页条数改变的时候\n    handleSizeChange (val) {\n      // 将val赋值给size\n      this.size = val\n      // 重新去后台查询数据\n      this.getUserList()\n    },\n    // 当前页码改变的时候\n    handleCurrentChange (val) {\n      this.current = val\n      this.getUserList()\n    },\n    async getUserList () {\n      const { data } = await findUserList(this.current, this.size, this.userVo)\n      this.userList = data.data.records\n      this.total = data.data.total\n    },\n    async getDeptAndCount () {\n      const { data } = await findDeptAndCount()\n      this.departments = data.data.departments\n    },\n    // 重置表单\n    resetUserVo () {\n      this.userVo.username = ''\n      this.userVo.departmentId = ''\n      this.userVo.email = ''\n      this.userVo.nickname = ''\n      this.userVo.sex = ''\n      this.getUserList()\n    },\n    // 按钮点击事件 显示新增编辑弹窗组件\n    show () {\n      this.addOrUpdateVisible = true\n    },\n    // 监听 子组件弹窗关闭后触发，有子组件调用\n    showAddOrUpdate (data) {\n      if (data === 'false') {\n        this.addOrUpdateVisible = false\n      } else {\n        this.addOrUpdateVisible = true\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}