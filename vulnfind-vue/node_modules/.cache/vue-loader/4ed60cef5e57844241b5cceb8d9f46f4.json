{"remainingRequest":"/Users/txf/Desktop/VulnFind/vulnfind-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/txf/Desktop/VulnFind/vulnfind-vue/src/components/user/UserAdd.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/txf/Desktop/VulnFind/vulnfind-vue/src/components/user/UserAdd.vue","mtime":1614181226983},{"path":"/Users/txf/Desktop/VulnFind/vulnfind-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/txf/Desktop/VulnFind/vulnfind-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/txf/Desktop/VulnFind/vulnfind-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/txf/Desktop/VulnFind/vulnfind-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBJbWFnZUNyb3BwZXIgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9JbWFnZUNyb3BwZXInCmltcG9ydCBQYW5UaHVtYiBmcm9tICcuLi8uLi9jb21wb25lbnRzL1BhblRodW1iJwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdVc2VyQWRkJywKICBjb21wb25lbnRzOiB7SW1hZ2VDcm9wcGVyLCBQYW5UaHVtYn0sCiAgLy8g5o6l5Y+X54i257uE5Lu25Lyg6YCS55qE5YC8CiAgcHJvcHM6ewogICAgYWRkT3JVcGRhdGVWaXNpYmxlOnsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBkZXBhcnRtZW50czp7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBbXQogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm1EYXRhOiB7CiAgICAgICAgZmllbGQxMDE6IG51bGwsCiAgICAgICAgdXNlcm5hbWU6IHVuZGVmaW5lZCwKICAgICAgICBkZXBhcnRtZW50SWQ6IHVuZGVmaW5lZCwKICAgICAgICBuaWNrbmFtZTogdW5kZWZpbmVkLAogICAgICAgIHNleDogMSwKICAgICAgICBwYXNzd29yZDogdW5kZWZpbmVkLAogICAgICAgIGVtYWlsOiB1bmRlZmluZWQsCiAgICAgICAgcGhvbmVOdW1iZXI6IHVuZGVmaW5lZCwKICAgICAgICBiaXJ0aDogIjIwMjAtMDktMDkiLAogICAgICB9LAogICAgICAvLyDmjqfliLblvLnlh7rmoYbmmL7npLrpmpDol48KICAgICAgc2hvd0RpYWxvZzpmYWxzZSwKICAgICAgaW1hZ2Vjcm9wcGVyU2hvdzogZmFsc2UsIC8vIOaYr+WQpuaYvuekuuS4iuS8oOe7hOS7tgogICAgICBpbWFnZWNyb3BwZXJLZXk6IDAsIC8vIOS4iuS8oOe7hOS7tmlkCiAgICAgIGltYWdlOiAnaHR0cHM6Ly93cGltZy53YWxsc3Rjbi5jb20vNTc3OTY1YjktYmI5ZS00ZTAyLTlmMGMtMDk1YjQxNDE3MTkxJywKICAgICAgcnVsZXM6IHsKICAgICAgICB1c2VybmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeeUqOaIt+WQjScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBkZXBhcnRtZW50SWQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6npg6jpl6gnLAogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgICB9XSwKICAgICAgICBuaWNrbmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeaYteensCcsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBzZXg6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfmgKfliKvkuI3og73kuLrnqbonLAogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgICB9XSwKICAgICAgICBwYXNzd29yZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeWvhueggScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBlbWFpbDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpemCrueusScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBwaG9uZU51bWJlcjogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeaJi+acuicsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBiaXJ0aDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+mAieaLqeeUn+aXpScsCiAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICAgIH1dLAogICAgICB9LAogICAgICBmaWVsZDEwMUFjdGlvbjogJ2h0dHBzOi8vanNvbnBsYWNlaG9sZGVyLnR5cGljb2RlLmNvbS9wb3N0cy8nLAogICAgICBmaWVsZDEwMWZpbGVMaXN0OiBbXSwKICAgICAgc2V4T3B0aW9uczogW3sKICAgICAgICAibGFiZWwiOiAi5biF5ZOlIiwKICAgICAgICAidmFsdWUiOiAxCiAgICAgIH0sIHsKICAgICAgICAibGFiZWwiOiAi576O5aWzIiwKICAgICAgICAidmFsdWUiOiAyCiAgICAgIH1dLAogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHt9LAogIHdhdGNoOiB7CiAgICAvLyDnm5HlkKwgYWRkT3JVcGRhdGVWaXNpYmxlIOaUueWPmAogICAgYWRkT3JVcGRhdGVWaXNpYmxlKG9sZFZhbCxuZXdWYWwpewogICAgICB0aGlzLnNob3dEaWFsb2cgPSB0aGlzLmFkZE9yVXBkYXRlVmlzaWJsZQogICAgfSwKICB9LAogIGNyZWF0ZWQoKSB7fSwKICBtb3VudGVkKCkge30sCiAgbWV0aG9kczogewogICAgb25PcGVuKCkgewoKICAgIH0sCiAgICBvbkNsb3NlKCkgewogICAgICB0aGlzLiRyZWZzWydlbEZvcm0nXS5yZXNldEZpZWxkcygpCiAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZVNob3cnLCAnZmFsc2UnKQogICAgfSwKICAgIGNsb3NlKCkgewogICAgICB0aGlzLiRlbWl0KCdjaGFuZ2VTaG93JywgJ2ZhbHNlJykKICAgIH0sCiAgICBoYW5kZWxDb25maXJtKCkgewogICAgICB0aGlzLiRyZWZzWydlbEZvcm0nXS52YWxpZGF0ZSh2YWxpZCA9PiB7CiAgICAgICAgaWYgKCF2YWxpZCkgcmV0dXJuCiAgICAgICAgY29uc29sZS5sb2codGhpcy5mb3JtRGF0YSkKICAgICAgfSkKICAgIH0sCiAgICBmaWVsZDEwMUJlZm9yZVVwbG9hZChmaWxlKSB7CiAgICAgIGxldCBpc1JpZ2h0U2l6ZSA9IGZpbGUuc2l6ZSAvIDEwMjQgLyAxMDI0IDwgMgogICAgICBpZiAoIWlzUmlnaHRTaXplKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5paH5Lu25aSn5bCP6LaF6L+HIDJNQicpCiAgICAgIH0KICAgICAgbGV0IGlzQWNjZXB0ID0gbmV3IFJlZ0V4cCgnaW1hZ2UvKicpLnRlc3QoZmlsZS50eXBlKQogICAgICBpZiAoIWlzQWNjZXB0KSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5bqU6K+l6YCJ5oupaW1hZ2UvKuexu+Wei+eahOaWh+S7ticpCiAgICAgIH0KICAgICAgcmV0dXJuIGlzUmlnaHRTaXplICYmIGlzQWNjZXB0CiAgICB9LAogICAgLy8g5LiK5Lyg5oiQ5Yqf5ZCO55qE5Zue6LCD5Ye95pWwCiAgICBjcm9wU3VjY2VzcyhkYXRhKSB7CiAgICAgIGNvbnNvbGUubG9nKGRhdGEpCiAgICAgIHRoaXMuaW1hZ2Vjcm9wcGVyU2hvdyA9IGZhbHNlCiAgICAgIHRoaXMuaW1hZ2UgPSBkYXRhLnVybDsKICAgICAgLy8g5LiK5Lyg5oiQ5Yqf5ZCO77yM6YeN5paw5omT5byA5LiK5Lyg57uE5Lu25pe25Yid5aeL5YyW57uE5Lu277yM5ZCm5YiZ5pi+56S65LiK5LiA5qyh55qE5LiK5Lyg57uT5p6cCiAgICAgIHRoaXMuaW1hZ2Vjcm9wcGVyS2V5ID0gdGhpcy5pbWFnZWNyb3BwZXJLZXkgKyAxCiAgICB9LAoKICAgIC8vIOWFs+mXreS4iuS8oOe7hOS7tgogICAgY2xvc2VJbWFnZSgpIHsKICAgICAgdGhpcy5pbWFnZWNyb3BwZXJTaG93ID0gZmFsc2UKICAgICAgLy8g5LiK5Lyg5aSx6LSl5ZCO77yM6YeN5paw5omT5byA5LiK5Lyg57uE5Lu25pe25Yid5aeL5YyW57uE5Lu277yM5ZCm5YiZ5pi+56S65LiK5LiA5qyh55qE5LiK5Lyg57uT5p6cCiAgICAgIHRoaXMuaW1hZ2Vjcm9wcGVyS2V5ID0gdGhpcy5pbWFnZWNyb3BwZXJLZXkgKyAxCiAgICB9CiAgfQp9Cgo="},{"version":3,"sources":["UserAdd.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoFA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UserAdd.vue","sourceRoot":"src/components/user","sourcesContent":["<template>\n  <div>\n    <el-dialog v-bind=\"$attrs\" v-on=\"$listeners\" :visible.sync=\"showDialog\" @open=\"onOpen\" @close=\"onClose\" title=\"添加用户\">\n      <el-row :gutter=\"15\">\n        <el-form ref=\"elForm\" :model=\"formData\" :rules=\"rules\" size=\"medium\" label-width=\"80px\">\n          <el-col :span=\"24\">\n            <!-- 用户头像 -->\n            <el-form-item label=\"用户头像\">\n\n              <!-- 头衔缩略图 -->\n              <pan-thumb :image=\"image\"/>\n              <!-- 文件上传按钮 -->\n              <el-button type=\"primary\" icon=\"el-icon-upload\" @click=\"imagecropperShow=true\">更换头像\n              </el-button>\n\n              <!--\n                v-show：是否显示上传组件\n                :key：类似于id，如果一个页面多个图片上传控件，可以做区分\n                :url：后台上传的url地址\n                @close：关闭上传组件\n                @crop-upload-success：上传成功后的回调 -->\n              <image-cropper\n                  v-show=\"imagecropperShow\"\n                  :width=\"300\"\n                  :height=\"300\"\n                  :key=\"imagecropperKey\"\n                  :url=\"'/ossservice/upload/uploadImgFile'\"\n                  field=\"file\"\n                  @close=\"closeImage\"\n                  @crop-upload-success=\"cropSuccess\"/>\n\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"用户名\" prop=\"username\">\n              <el-input v-model=\"formData.username\" placeholder=\"请输入用户名\" clearable :style=\"{width: '100%'}\">\n              </el-input>\n            </el-form-item>\n            <el-form-item label=\"昵称\" prop=\"nickname\">\n              <el-input v-model=\"formData.nickname\" placeholder=\"请输入昵称\" clearable :style=\"{width: '100%'}\">\n              </el-input>\n            </el-form-item>\n            <el-form-item label=\"密码\" prop=\"password\">\n              <el-input v-model=\"formData.password\" placeholder=\"请输入密码\" clearable :style=\"{width: '100%'}\">\n              </el-input>\n            </el-form-item>\n            <el-form-item label=\"手机\" prop=\"phoneNumber\">\n              <el-input v-model=\"formData.phoneNumber\" placeholder=\"请输入手机\" clearable :style=\"{width: '100%'}\">\n              </el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"部门\" prop=\"departmentId\">\n              <el-select v-model=\"formData.departmentId\" placeholder=\"请选择部门\" clearable\n                         :style=\"{width: '100%'}\">\n                <el-option v-for=\"(item, index) in departments\" :key=\"index\" :label=\"item.name\"\n                           :value=\"item.id\" :disabled=\"item.disabled\"></el-option>\n              </el-select>\n            </el-form-item>\n            <el-form-item label=\"性别\" prop=\"sex\">\n              <el-radio-group v-model=\"formData.sex\" size=\"medium\">\n                <el-radio v-for=\"(item, index) in sexOptions\" :key=\"index\" :label=\"item.value\"\n                          :disabled=\"item.disabled\">{{item.label}}</el-radio>\n              </el-radio-group>\n            </el-form-item>\n            <el-form-item label=\"邮箱\" prop=\"email\">\n              <el-input v-model=\"formData.email\" placeholder=\"请输入邮箱\" clearable :style=\"{width: '100%'}\">\n              </el-input>\n            </el-form-item>\n            <el-form-item label=\"生日\" prop=\"birth\">\n              <el-date-picker v-model=\"formData.birth\" format=\"yyyy-MM-dd\" value-format=\"yyyy-MM-dd\"\n                              :style=\"{width: '100%'}\" placeholder=\"请选择生日\" clearable></el-date-picker>\n            </el-form-item>\n          </el-col>\n        </el-form>\n      </el-row>\n      <div slot=\"footer\">\n        <el-button @click=\"close\">取消</el-button>\n        <el-button type=\"primary\" @click=\"handelConfirm\">确定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport ImageCropper from '../../components/ImageCropper'\nimport PanThumb from '../../components/PanThumb'\n\nexport default {\n  name: 'UserAdd',\n  components: {ImageCropper, PanThumb},\n  // 接受父组件传递的值\n  props:{\n    addOrUpdateVisible:{\n      type: Boolean,\n      default: false\n    },\n    departments:{\n      type: Array,\n      default: []\n    }\n  },\n  data() {\n    return {\n      formData: {\n        field101: null,\n        username: undefined,\n        departmentId: undefined,\n        nickname: undefined,\n        sex: 1,\n        password: undefined,\n        email: undefined,\n        phoneNumber: undefined,\n        birth: \"2020-09-09\",\n      },\n      // 控制弹出框显示隐藏\n      showDialog:false,\n      imagecropperShow: false, // 是否显示上传组件\n      imagecropperKey: 0, // 上传组件id\n      image: 'https://wpimg.wallstcn.com/577965b9-bb9e-4e02-9f0c-095b41417191',\n      rules: {\n        username: [{\n          required: true,\n          message: '请输入用户名',\n          trigger: 'blur'\n        }],\n        departmentId: [{\n          required: true,\n          message: '请选择部门',\n          trigger: 'change'\n        }],\n        nickname: [{\n          required: true,\n          message: '请输入昵称',\n          trigger: 'blur'\n        }],\n        sex: [{\n          required: true,\n          message: '性别不能为空',\n          trigger: 'change'\n        }],\n        password: [{\n          required: true,\n          message: '请输入密码',\n          trigger: 'blur'\n        }],\n        email: [{\n          required: true,\n          message: '请输入邮箱',\n          trigger: 'blur'\n        }],\n        phoneNumber: [{\n          required: true,\n          message: '请输入手机',\n          trigger: 'blur'\n        }],\n        birth: [{\n          required: true,\n          message: '请选择生日',\n          trigger: 'change'\n        }],\n      },\n      field101Action: 'https://jsonplaceholder.typicode.com/posts/',\n      field101fileList: [],\n      sexOptions: [{\n        \"label\": \"帅哥\",\n        \"value\": 1\n      }, {\n        \"label\": \"美女\",\n        \"value\": 2\n      }],\n    }\n  },\n  computed: {},\n  watch: {\n    // 监听 addOrUpdateVisible 改变\n    addOrUpdateVisible(oldVal,newVal){\n      this.showDialog = this.addOrUpdateVisible\n    },\n  },\n  created() {},\n  mounted() {},\n  methods: {\n    onOpen() {\n\n    },\n    onClose() {\n      this.$refs['elForm'].resetFields()\n      this.$emit('changeShow', 'false')\n    },\n    close() {\n      this.$emit('changeShow', 'false')\n    },\n    handelConfirm() {\n      this.$refs['elForm'].validate(valid => {\n        if (!valid) return\n        console.log(this.formData)\n      })\n    },\n    field101BeforeUpload(file) {\n      let isRightSize = file.size / 1024 / 1024 < 2\n      if (!isRightSize) {\n        this.$message.error('文件大小超过 2MB')\n      }\n      let isAccept = new RegExp('image/*').test(file.type)\n      if (!isAccept) {\n        this.$message.error('应该选择image/*类型的文件')\n      }\n      return isRightSize && isAccept\n    },\n    // 上传成功后的回调函数\n    cropSuccess(data) {\n      console.log(data)\n      this.imagecropperShow = false\n      this.image = data.url;\n      // 上传成功后，重新打开上传组件时初始化组件，否则显示上一次的上传结果\n      this.imagecropperKey = this.imagecropperKey + 1\n    },\n\n    // 关闭上传组件\n    closeImage() {\n      this.imagecropperShow = false\n      // 上传失败后，重新打开上传组件时初始化组件，否则显示上一次的上传结果\n      this.imagecropperKey = this.imagecropperKey + 1\n    }\n  }\n}\n\n</script>\n<style>\n.el-upload__tip {\n  line-height: 1.2;\n}\n\n</style>\n"]}]}